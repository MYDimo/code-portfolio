---
import { getCollection } from "astro:content";
const allProjects = await getCollection("projects");
const filteredProjects = [];

for (let i = 0; i < 3; i++) {
	const el = allProjects[i];
	const obj = {
		title: el.data.title,
		pubDate: el.data.pubDate,
		slug: el.slug,
		tags: el.data.tags,
	};
	filteredProjects.push(obj);
}

---

<div
	class="projects bg-zinc-200 flex flex-col justify-items-center justify-evenly"
>
	<p class="text-center">latest projects</p>
	{
		filteredProjects.map((project) => (
			<a href={`projects${project.slug}`}>
				<div class="flex flex-col">
					<p class="inline-block font-bold text-center">
						{project.title} -
						{project.pubDate.toDateString().split(" ").slice(1).join(" ")}
					</p>
					<small class="italic text-slate-400 text-center">
						{project.tags.join("\xa0\xa0\xa0\xa0")}
					</small>
				</div>
			</a>
		))
	}
	<p class="text-center">click here for more</p>
</div>
