---
import MainLayout from "../../layouts/main-layout.astro";
import { getCollection, type CollectionEntry } from "astro:content";
import ProjectList from "../../components/ProjectList.astro";
import ProjectCardTwo from "../../components/ProjectCardTwo.astro";
import { Image } from "astro:assets";
import { fade } from "astro/transitions";
import { kebabCase } from "../../utils/kebabCase";

const projects = await getCollection("projects");
---

<MainLayout title="Projects">
	<section class="flex flex-col gap-44 my-24 justify-start items-center w-full">
		{
			projects.map((projectData, cardIndex) => (
				<article class="group w-4/5 lg:w-3/5">
					<div
						class={`flex flex-col items-center lg:items-start lg:flex lg:flex-row justify-around ${
							cardIndex % 2 ? "lg:flex-row-reverse" : null
						} lg:h-80`}
					>
						<div class="flex flex-col prose prose-base w-2/3 h-full">
							<h1 class="text-center group-hover:underline underline-solid" transition:name={kebabCase(projectData.data.title)}>
								<a href={`/projects${projectData.slug}`} class="no-underline">
									{projectData.data.title}
								</a>
							</h1>
							<p class="text-center line-clamp-3">
								{projectData.data.description}
							</p>
						</div>
						<Image
							src={projectData.data.image.src}
							alt={projectData.data.image.alt}
							width={600}
							height={600 / 2}
							format="webp"
							quality="max"
							class="object-contain rounded-lg"
							transition:name={kebabCase(projectData.data.image.alt)}
						/>
					</div>
				</article>
			))
		}
	</section>
</MainLayout>


<!-- <h1 class="text-center group-hover:underline underline-solid" transition:name="title"> 
							// transition:name="img"-->